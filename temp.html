{% if room.opponent_type == 'vs Player' %}
<main style="margin-top: 2.4rem;">
    <div class="container">
        <!-- Room Start -->
        <div class="room">
            <div class="room__top">
                <div class="room__topLeft">
                    <a href="{% url 'home' %}">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                            <title>arrow-left</title>
                            <path d="M13.723 2.286l-13.723 13.714 13.719 13.714 1.616-1.611-10.96-10.96h27.625v-2.286h-27.625l10.965-10.965-1.616-1.607z"></path>
                        </svg>
                    </a>
                    <h3>Game Room</h3>
                </div>
                {% if room.host == request.user %}
                <div class="room__topRight">
                    <a href="{% url 'update-room' room.id %}">
                        <svg enable-background="new 0 0 24 24" height="32" viewBox="0 0 24 24" width="32" xmlns="http://www.w3.org/2000/svg">
                            <title>edit</title>
                            <g>
                                <path d="m23.5 22h-15c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h15c.276 0 .5.224.5.5s-.224.5-.5.5z" />
                            </g>
                            <g>
                                <g>
                                    <path d="m2.5 22c-.131 0-.259-.052-.354-.146-.123-.123-.173-.3-.133-.468l1.09-4.625c.021-.09.067-.173.133-.239l14.143-14.143c.565-.566 1.554-.566 2.121 0l2.121 2.121c.283.283.439.66.439 1.061s-.156.778-.439 1.061l-14.142 14.141c-.065.066-.148.112-.239.133l-4.625 1.09c-.038.01-.077.014-.115.014zm1.544-4.873-.872 3.7 3.7-.872 14.042-14.041c.095-.095.146-.22.146-.354 0-.133-.052-.259-.146-.354l-2.121-2.121c-.19-.189-.518-.189-.707 0zm3.081 3.283h.01z" />
                                </g>
                                <g>
                                    <path d="m17.889 10.146c-.128 0-.256-.049-.354-.146l-3.535-3.536c-.195-.195-.195-.512 0-.707s.512-.195.707 0l3.536 3.536c.195.195.195.512 0 .707-.098.098-.226.146-.354.146z" />
                                </g>
                            </g>
                        </svg>
                    </a>
                    <a href="{% url 'delete-room' room.id %}">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                            <title>remove</title>
                            <path d="M27.314 6.019l-1.333-1.333-9.98 9.981-9.981-9.981-1.333 1.333 9.981 9.981-9.981 9.98 1.333 1.333 9.981-9.98 9.98 9.98 1.333-1.333-9.98-9.98 9.98-9.981z"></path>
                        </svg>
                    </a>
                </div>
                {% endif %}
            </div>
            <div class="room__box scroll">
                <div class="room__header scroll">
                    <div class="room__info">
                        <h3>{{ room.name }}</h3>
                        <span>{{ room.created|timesince }} ago</span>
                    </div>
                    <div class="room__hosted">
                        <p>Created By</p>
                        <a href="{% url 'user-profile' room.host.id %}" class="room__author">
                            <div class="avatar avatar--small">
                                <img src="{{ room.host.avatar.url }}" />
                            </div>
                            <span>@{{ room.host.username }}</span>
                        </a>
                    </div>
                    <div class="room__details">
                        {{ room.description }}
                    </div>
                    <span class="room__topics">{{ room.opponent_type }}</span>
                    {% if room.host == request.user %}
                        {% if room.participants.all|length == 1 %}
                            <a class="btn btn--main" href="{% url 'pong' room.id %}">
                                Share Game Room
                            </a>
                            <a class="btn btn--main" href="{% url 'pong' room.id %}">
                                Random Matchmaking
                            </a>
                        {% elif room.participants.all|length == 2 %}
                            {% if room.host_ready == False %}
                                {% if room.opp_ready == False %}
                                    <form action="" method="POST">
                                        {% csrf_token %}
                                        <button type="submit" name="host_ready" class="btn btn--main">Mark as Ready</button>
                                    </form>
                                {% else %}
                                    <form action="" method="POST">
                                        {% csrf_token %}
                                        <button type="submit" name="host_ready" class="btn btn--main">Mark as Ready</button>
                                    </form>
                                    <p>Opponent is ready</p>
                                {% endif %}
                            {% else %}
                                {% if room.opp_ready == False %}
                                    <p>Waiting for opponent to be ready...</p>
                                {% else %}
                                    <a class="btn btn--main" href="{% url 'pong' room.id %}">Start Game</a>
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% else %}
                        {% if room.participants.all|length == 1 %}
                            <form action="" method="POST">
                                {% csrf_token %}
                                <button type="submit" name="join" class="btn btn--main">Join Game Room</button>
                            </form>
                        {% elif room.participants.all|length == 2  and request.user in room.participants.all %}
                            {% if room.opp_ready == False %}
                                <form action="" method="POST">
                                    {% csrf_token %}
                                    <button type="submit" name="opp_ready" class="btn btn--main">Mark as Ready</button>
                                </form>
                            {% else %}
                                <div class="btn btn--main--red">
                                    Waiting for host to be ready...
                                </div>
                            {% endif %}
                        {% else %}
                            <div class="btn btn--main--red">
                                Room Already Full
                            </div>
                        {% endif %}
                    {% endif %}
                </div>
                <div class="room__conversation" id='chat_container'>
                    <div class="threads scroll" id='chat_messages'>
                        {% for message in chat_messages reversed %}
                            {% if message.author == request.user %}
                            <li class="flex justify-end mb-4">
                                <div class="bg-green-200 rounded-l-lg rounded-tr-lg p-4 max-w-[75%] text-black">
                                    <span>{{ message.body }}</span>
                                </div>
                                <div class="flex items-end">
                                    <svg height="13" width="8" >
                                        <path fill="#bbf7d0" d="M6.3,10.4C1.5,8.7,0.9,5.5,0,0.2L0,13l5.2,0C7,13,9.6,11.5,6.3,10.4z"/>
                                    </svg>
                                </div>
                            </li>
                            {% else %}
                            <li>
                                <div class="flex justify-start">
                                    <div class="flex items-end mr-2" >
                                        <a href="{% url 'user-profile' message.author.id %}">
                                            <div class="relative">
                                                <div id="user-{{ message.author.id }}"></div>
                                                <img class="w-8 h-8 rounded-full object-cover" src="{{ message.author.avatar.url }}">
                                            </div>
                                        </a>
                                    </div>
                                    <div class="flex items-end" >
                                        <svg height="13" width="8" >
                                            <path fill="white" d="M2.8,13L8,13L8,0.2C7.1,5.5,6.5,8.7,1.7,10.4C-1.6,11.5,1,13,2.8,13z"></path>
                                        </svg>
                                    </div>
                                    <div class="bg-white p-4 max-w-[75%] rounded-r-lg rounded-tl-lg text-black">
                                        <span>{{ message.body }}</span>
                                    </div>  
                                </div>
                                <div class="text-sm font-light py-1 ml-10">
                                    <span class="text-white">{{ message.author.profile.name }}</span> 
                                    <span class="text-gray-400">@{{ message.author.username }}</span>
                                </div>
                            </li>
                            {% endif %}
                        {% endfor %}
                    </div>
                  </div>
                </div>
                <div class="sticky bottom-0 z-10 p-2 bg-gray-800">
                    <div class="flex flex-col gap-4 items-center rounded-xl px-2 py-2">
                        <form id="chat_message_form" class="w-full"
                            hx-ext="ws"
                            ws-connect="/ws/chatroom/{{ chatroom_name }}"
                            ws-send 
                            _="on htmx:wsAfterSend reset() me">
                            {% csrf_token %}
                            {{ form }}
                        </form>
                    </div>
                </div>
      </div>
    </div>
</main>
{% endif %}

<main class="flex pt-4 pl-8 pr-8 pb-4 h-[57rem] bg-gray-900">
    <div class="w-2/5 bg-gray-900 rounded-tl-md rounded-bl-md">
      <div class="h-20 bg-gray-900 p-4">
        <div class="flex w-full justify-between items-center">
            <div>
                <p class="text-teal-400">Game Room</p>
                <p class="text-teal-400">{{room_count}} Active Rooms</p>
            </div>
            <div>
              <a class="btn btn-wide flex items-center bg-teal-400 border-teal-500 hover:bg-teal-500 hover:border-teal-700" href="{% url 'create-room' %}">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <title>add</title>
                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                </svg>
                Create Room
            </a>
            </div>
        </div>
    </div>
    <div class="max-h-[48rem] bg-gray-900 overflow-scroll">
      <div class="flex-col p-4">
        {% for room in rooms %}
          {% if room.is_expired == False %}
          {% if room.opponent_type == 'AI' %}
              {% if room.host == request.user %}
              <div class="relative flex flex-col items-center border border-solid border-gray-200 rounded-2xl transition-all duration-500 md:flex-row w-full bg-white">
                <div class="block overflow-hidden md:w-52 h-48">
                  <img src="https://picsum.photos/200/300?random=2" alt="Random GIF" class="h-full rounded-2xl object-cover w-full" />
                </div>
                <div class="p-4 flex-1">
                  <div class="flex items-center justify-between mb-2">
                    <h4 class="text-base font-semibold text-gray-900 capitalize transition-all duration-500">
                      {{ room.name }}
                    </h4>
                    <span class="text-sm text-gray-500">{{room.created|timesince}} ago</span>
                  </div>
                  <p class="text-sm font-normal text-gray-500 transition-all duration-500 leading-5 mb-5">{{ room.description }}</p>
                  <div class="flex flex-wrap space-x-2 mb-3">
                    <span class="bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">
                      <strong>Points to Win:</strong> {{ room.points }}
                    </span>
                    <span class="bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">
                      <strong>Opponent Type:</strong> {{ room.opponent_type }}
                    </span>
                  </div>
                  <a href="{% url 'room' room.id %}" class="btn bg-teal-400 shadow-sm rounded-full py-2 px-5 text-xs text-white font-semibold">Join Room</a>
                </div>
              </div>
              <br>       
              {% endif %}
          {% else %}
          <div class="relative flex flex-col items-center border border-solid border-gray-200 rounded-2xl transition-all duration-500 md:flex-row w-full bg-white">
            <div class="block overflow-hidden md:w-52 h-48">
              <img src="https://picsum.photos/200/300?random=3" alt="Random GIF" class="h-full rounded-2xl object-cover w-full" />
            </div>
            <div class="p-4 flex-1">
              <div class="flex items-center justify-between mb-2">
                <h4 class="text-base font-semibold text-gray-900 capitalize transition-all duration-500">
                  {{ room.name }}
                </h4>
                <span class="text-sm text-gray-500">{{room.created|timesince}} ago</span>
              </div>
              <p class="text-sm font-normal text-gray-500 transition-all duration-500 leading-5 mb-5">{{ room.description }}</p>
              <div class="flex flex-wrap space-x-2 mb-3">
                <span class="bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">
                  <strong>Points to Win:</strong> {{ room.points }}
                </span>
                <span class="bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">
                  <strong>Opponent Type:</strong> {{ room.opponent_type }}
                </span>
              </div>
              <a href="{% url 'room' room.id %}" class="btn bg-teal-400 hover:bg-teal-500 shadow-sm rounded-full py-2 px-5 text-xs text-black font-semibold">Join Room</a>
            </div>
          </div>
          <br>
          {% endif %}
          {% endif %}
      {% endfor %}
      
      </div>
    </div>
    </div>
    <div class="w-3/5 bg-gray-900 p-4 rounded-tr-md rounded-br-md">
      <div class="bg-white w-full h-[4rem] rounded-tr-md rounded-tl-md p-5">
        <p>Public Chat (Live-chat)</p>
      </div>
      <div  id='chat_container' class="w-full h-[43.5rem] bg-indigo-100 p-2 rounded-br-md rounded-bl-md overflow-scroll">
  
        <ul id='chat_messages' class="flex flex-col justify-end gap-2 p-4">
          {% for message in chat_messages reversed %}
          {% if message.author == user %}
          <li class="flex justify-end mb-4">
              <div class="bg-green-200 rounded-l-lg rounded-tr-lg p-4 max-w-[75%] text-black">
                  <span>{{ message.body }}</span>
              </div>
              <div class="flex items-end">
                  <svg height="13" width="8" >
                      <path fill="#bbf7d0" d="M6.3,10.4C1.5,8.7,0.9,5.5,0,0.2L0,13l5.2,0C7,13,9.6,11.5,6.3,10.4z"/>
                  </svg>
              </div>
          </li>
          {% else %}
          <li>
              <div class="flex justify-start">
                  <div class="flex items-end mr-2" >
                      <a href="{% url 'user-profile' message.author.id %}">
                          <div class="relative">
                              <div id="user-{{ message.author.id }}"></div>
                              <img class="w-8 h-8 rounded-full object-cover" src="{{ message.author.avatar.url }}">
                          </div>
                      </a>
                  </div>
                  <div class="flex items-end" >
                      <svg height="13" width="8" >
                          <path fill="white" d="M2.8,13L8,13L8,0.2C7.1,5.5,6.5,8.7,1.7,10.4C-1.6,11.5,1,13,2.8,13z"></path>
                      </svg>
                  </div>
                  <div class="bg-white p-4 max-w-[75%] rounded-r-lg rounded-tl-lg text-black">
                      <span>{{ message.body }}</span>
                  </div>  
              </div>
              <div class="text-sm font-light py-1 ml-10">
                  <span class="text-white">{{ message.author.profile.name }}</span> 
                  <span class="text-gray-400">@{{ message.author.username }}</span>
              </div>
          </li>
          {% endif %}
          {% endfor %}
      </ul>
        </div>
        <div class="pt-5"></div>
        <form id="chat_message_form" class="w-full"
        hx-ext="ws"
        ws-connect="/ws/chatroom/{{ chatroom_name }}"
        ws-send 
        _="on htmx:wsAfterSend reset() me"
        method="POST">
        {% csrf_token %}
        <div class="w-full pl-3 pr-1 py-1 rounded-3xl border border-gray-400 flex items-center gap-2 justify-between">
          <div class="flex items-center gap-2 flex-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
              <g id="User Circle">
                <path id="icon" d="M6.05 17.6C6.05 15.3218 8.26619 13.475 11 13.475C13.7338 13.475 15.95 15.3218 15.95 17.6M13.475 8.525C13.475 9.89191 12.3669 11 11 11C9.6331 11 8.525 9.89191 8.525 8.525C8.525 7.1581 9.6331 6.05 11 6.05C12.3669 6.05 13.475 7.1581 13.475 8.525ZM19.25 11C19.25 15.5563 15.5563 19.25 11 19.25C6.44365 19.25 2.75 15.5563 2.75 11C2.75 6.44365 6.44365 2.75 11 2.75C15.5563 2.75 19.25 6.44365 19.25 11Z" stroke="teal" stroke-width="1.6" />
              </g>
            </svg>
            <input class="flex-1 text-black text-xs font-medium leading-4 focus:outline-none rounded-2xl px-2 py-2" type="text" name="body" maxlength="300" autofocus id="is_body" placeholder="Enter message here...">
          </div>
          <div class="flex items-center gap-2">
            <svg class="cursor-pointer" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
              <g id="Attach 01">
                <g id="Vector">
                  <path d="M14.9332 7.79175L8.77551 14.323C8.23854 14.8925 7.36794 14.8926 6.83097 14.323C6.294 13.7535 6.294 12.83 6.83097 12.2605L12.9887 5.72925M12.3423 6.41676L13.6387 5.04176C14.7126 3.90267 16.4538 3.90267 17.5277 5.04176C18.6017 6.18085 18.6017 8.02767 17.5277 9.16676L16.2314 10.5418M16.8778 9.85425L10.72 16.3855C9.10912 18.0941 6.49732 18.0941 4.88641 16.3855C3.27549 14.6769 3.27549 11.9066 4.88641 10.198L11.0441 3.66675" stroke="#9CA3AF" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M14.9332 7.79175L8.77551 14.323C8.23854 14.8925 7.36794 14.8926 6.83097 14.323C6.294 13.7535 6.294 12.83 6.83097 12.2605L12.9887 5.72925M12.3423 6.41676L13.6387 5.04176C14.7126 3.90267 16.4538 3.90267 17.5277 5.04176C18.6017 6.18085 18.6017 8.02767 17.5277 9.16676L16.2314 10.5418M16.8778 9.85425L10.72 16.3855C9.10912 18.0941 6.49732 18.0941 4.88641 16.3855C3.27549 14.6769 3.27549 11.9066 4.88641 10.198L11.0441 3.66675" stroke="white" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M14.9332 7.79175L8.77551 14.323C8.23854 14.8925 7.36794 14.8926 6.83097 14.323C6.294 13.7535 6.294 12.83 6.83097 12.2605L12.9887 5.72925M12.3423 6.41676L13.6387 5.04176C14.7126 3.90267 16.4538 3.90267 17.5277 5.04176C18.6017 6.18085 18.6017 8.02767 17.5277 9.16676L16.2314 10.5418M16.8778 9.85425L10.72 16.3855C9.10912 18.0941 6.49732 18.0941 4.88641 16.3855C3.27549 14.6769 3.27549 11.9066 4.88641 10.198L11.0441 3.66675" stroke="white" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                </g>
              </g>
            </svg>
            <button class="items-center flex px-3 py-2 bg-teal-400 rounded-full shadow">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <g id="Send 01">
                  <path id="icon" d="M9.04071 6.959L6.54227 9.45744M6.89902 10.0724L7.03391 10.3054C8.31034 12.5102 8.94855 13.6125 9.80584 13.5252C10.6631 13.4379 11.0659 12.2295 11.8715 9.81261L13.0272 6.34566C13.7631 4.13794 14.1311 3.03408 13.5484 2.45139C12.9657 1.8687 11.8618 2.23666 9.65409 2.97257L6.18714 4.12822C3.77029 4.93383 2.56187 5.33664 2.47454 6.19392C2.38721 7.0512 3.48957 7.68941 5.69431 8.96584L5.92731 9.10074C6.23326 9.27786 6.38623 9.36643 6.50978 9.48998C6.63333 9.61352 6.72189 9.7665 6.89902 10.0724Z" stroke="black" stroke-width="1.6" stroke-linecap="round" />
                </g>
              </svg>
              <h3 class="text-black text-xs font-semibold leading-4 px-2">Send</h3>
            </button>
          </div>
        </div>      
    </form>
    </div>
  
  </main>




























  
<div class="h-[57rem] flex-1 bg-gray-900 p-4 flex justify-center items-center">
  <div class="bg-white w-full md:max-w-4xl rounded-lg shadow">
  <div class="h-12 flex justify-between items-center border-b border-gray-200 m-4">
    <div >
     <div class="text-xl font-bold text-gray-700">Josef256 Lobby</div>
     <div class="text-sm font-base text-gray-500">Waiting for more players...</div>
    </div>
    <div>
      <div class="flex items-center justify-center w-full  shadow-md rounded-full">
        <label
            htmlFor="toogleA"
            class="flex items-center cursor-pointer"
        >
          <div class="flex items-center">
            <input id="toogleA" type="checkbox" class="hidden"/>
            <div
                class="toggle__line w-20 h-10 bg-gray-300 rounded-full shadow-inner"
            >
            </div>
            <div
                class="toggle__dot bg-red-400 absolute w-10 h-10 bg-white rounded-full shadow flex items-center justify-center"
            >
              <svg class="text-white w-6 h-6 " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z" />
              </svg>
            </div>
          </div>
        </label>
      </div>
    </div>
  </div>
  <div class="px-6">
    <div class="flex justify-between items-center h-16 p-4 my-6  rounded-lg border border-gray-100 shadow-md">
      <div class="flex items-center">
        <img class="rounded-full h-12 w-12" src="https://static-cdn.jtvnw.net/jtv_user_pictures/27fdad08-a2c2-4e0b-8983-448c39519643-profile_image-70x70.png" alt="Logo" />
      <div class="ml-2">
        <div class="text-sm font-semibold text-gray-600">Lirik</div>
        <div class="text-sm font-light text-gray-500">Level 6 - Warlock</div>
      </div>
      </div>
      <div>
        <button class="bg-red-400 hover:bg-red-500 p-2 rounded-full shadow-md flex justify-center items-center">
          <svg class="text-white toggle__lock w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
    <div class="flex justify-between items-center h-16 p-4 my-6  rounded-lg border border-gray-100 shadow-md">
      <div class="flex items-center">
        <img class="rounded-full h-12 w-12" src="https://static-cdn.jtvnw.net/jtv_user_pictures/cb661e9a-68e5-4e37-89ce-231960ff7f8e-profile_image-70x70.png" alt="Logo" />
        <div class="ml-2">
          <div class="text-sm font-semibold text-gray-600">MembTV</div>
          <div class="text-sm font-light text-gray-500">Level 4 - Monk</div>
        </div>
      </div>
      <div>
        <button class="bg-red-400 hover:bg-red-500  p-2 rounded-full shadow-md flex justify-center items-center">
          <svg class="text-white toggle__lock w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
    <div class="flex justify-between items-center h-16 p-4 my-6  rounded-lg border border-gray-100 shadow-md">
      <div class="flex items-center">
        <img class="rounded-full h-12 w-12" src="https://static-cdn.jtvnw.net/jtv_user_pictures/e82b2c90-efe6-41c7-bd50-7caba86fd3b5-profile_image-70x70.png" alt="Logo" />
        <div class="ml-2">
          <div class="text-sm font-semibold text-gray-600">DansGaming</div>
          <div class="text-sm font-light text-gray-500">Level 12 - Paladan</div>
        </div>
      </div>
      <div>
        <button class="bg-red-400 hover:bg-red-500  p-2 rounded-full shadow-md flex justify-center items-center">
          <svg class="text-white toggle__lock w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
    <div class="flex bg-gray-200 justify-center items-center h-16 p-4 my-6  rounded-lg  shadow-inner">
      <div class="flex items-center border border-gray-400 p-2 border-dashed rounded cursor-pointer">
      <div>
        <svg class="text-gray-500 w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
      </svg>
      </div>
        <div class="ml-1 text-gray-500 font-medium"> Invite a friend</div>
      </div>
    </div>
  </div>
    <div class="p-6 ">
      <button class="p-4 bg-green-400 hover:bg-green-500 w-full rounded-lg shadow text-xl font-medium uppercase text-white">Start the game</button>
    </div>
  </div>
      </div>
  
  <style>
    .toggle__dot {
      transition: all 0.3s ease-in-out;
  }
  
  input:checked ~ .toggle__dot {
      transform: translateX(100%);
      background-color:#68D391
  }
  </style>







<div role="alert" class="alert alert-info">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      class="h-6 w-6 shrink-0 stroke-current">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <span>Notifications.</span>
  </div>
  <div role="alert" class="alert shadow-lg">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      class="stroke-info h-6 w-6 shrink-0">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <div>
      <h3 class="font-bold">New message!</h3>
      <div class="text-xs">You have 1 unread message</div>
    </div>
    <button class="btn btn-sm">See</button>
  </div>
  <div role="alert" class="alert">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      class="stroke-info h-6 w-6 shrink-0">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <span>we use cookies for no reason.</span>
    <div>
      <button class="btn btn-sm">Deny</button>
      <button class="btn btn-sm btn-primary">Accept</button>
    </div>
  </div>
</div>




{% for notification in notifications %}
                <div role="alert" class="alert shadow-lg">
                    <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    class="stroke-info h-6 w-6 shrink-0">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div>
                    <h3 class="font-bold">{{ notification.title }}</h3>
                    <div class="text-xs">{{ notification.message }}</div>
                    </div>
                    <button class="btn btn-sm" onclick="markAsRead({{ notification.id }})">See</button>
                </div>
            {% empty %}
                <div role="alert" class="alert alert-info">
                    <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    class="h-6 w-6 shrink-0 stroke-current">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>No notifications.</span>
                </div>
            {% endfor %}



            {% if room.opponent_type == 'vs Player' or room.opponent_type == 'AI' %}
            <!-- /*==============================
            =>  Footer
            ================================*/ -->
            
            <div class="fixed bottom-0 left-0 right-0 z-20">
                <div class="flex items-center justify-between px-6 py-4 bg-gradient-to-r from-green-500 to-teal-500 border-t border-gray-300">
                    <div class="flex items-center">
                        <img class="h-8 w-8 mr-2" src="{{ request.user.avatar.url }}" alt="User Avatar">
                        <div class="text-white font-semibold">{{ request.user.username }}</div>
                    </div>
                    <div>
                        <button id="chatbox-toggle" class="text-white">
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
                          </svg>              
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Overlay for chatbox -->
            <!-- <div id="overlay" class="fixed inset-0 bg-black opacity-50 hidden z-40"></div> -->
            
            <!-- Chatbox -->
            <div id="chatbox" class="fixed bottom-8 right-0 bg-white rounded-t-lg shadow-md h-[40rem] w-[60rem] hidden z-50">
              {% include 'chat/chat.html' %}
              <button id="chatbox-close" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            
            {% endif %}
            
            <script>
            document.addEventListener("DOMContentLoaded", function () {
              const chatboxToggle = document.getElementById("chatbox-toggle");
              const chatbox = document.getElementById("chatbox");
              const chatboxClose = document.getElementById("chatbox-close");
              const overlay = document.getElementById("overlay");
            
              chatboxToggle.addEventListener("click", () => {
                chatbox.classList.toggle("hidden");
                overlay.classList.toggle("hidden");
              });
            
              chatboxClose.addEventListener("click", () => {
                chatbox.classList.add("hidden");
                overlay.classList.add("hidden");
              });
            
              // Handle clicks on the overlay to close the chatbox
              overlay.addEventListener("click", () => {
                chatbox.classList.add("hidden");
                overlay.classList.add("hidden");
              });
            });
            
            // Kickout popup logic
            const popup = document.getElementById('popup');
            const popupButton = document.getElementById('popupButton');
            const roomID = {{ room.id }};
            const playerID = {{ request.user.id }};
            
            function checkKickoutStatus() {
              fetch(`/check_kickout_status/${roomID}/${playerID}/`)
                .then(response => response.json())
                .then(data => {
                  if (data.kicked_out) {
                    // Show the popup if kicked out
                    popup.classList.remove('hidden');
                  }
                })
                .catch(error => console.error('Error checking kickout status:', error));
            }
            
            // Check kickout status every second
            setInterval(checkKickoutStatus, 1000);
            
            popupButton.addEventListener('click', () => {
              // Redirect to the home page after clicking the button
              window.location.href = '{% url "home" %}';
            });
            
            </script>
            
            
            {% endblock %}




<div class="flex flex-row h-[calc(100vh-100px)] antialiased text-gray-800">
  <div class="flex flex-row w-96 flex-shrink-0 bg-gray-100 p-4">
    <div class="flex flex-col w-full h-full pl-4 pr-4 py-4 -mr-4">
      <div class="flex flex-row items-center">
        <div class="flex flex-row items-center">
          <div class="text-xl font-semibold">Messages</div>
          <div class="flex items-center justify-center ml-2 text-xs h-5 w-5 text-white bg-red-500 rounded-full font-medium">5</div>
        </div>
        <div class="ml-auto">
          <button class="flex items-center justify-center h-7 w-7 bg-gray-200 text-gray-500 rounded-full">
            <svg class="w-4 h-4 stroke-current"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="mt-5">
        <ul class="flex flex-row items-center justify-start space-x-4">
          <li>
            <a href="#"
                class="flex items-center pb-3 text-xs font-semibold relative text-indigo-800">
              <span>All Conversations</span>
              <span class="absolute left-0 bottom-0 h-1 w-6 bg-indigo-800 rounded-full"></span>
            </a>
          </li>
          <li>
            <a href="#"
                class="flex items-center pb-3 text-xs text-gray-700 font-semibold">
              <span>Blocked</span>
            </a>
          </li>
        </ul>
      </div>
      <div class="mt-5">
        <div class="text-xs text-gray-400 font-semibold uppercase">Team</div>
      </div>
      <div class="mt-2">
        <div class="flex flex-col -mx-4">
          <div class="relative flex flex-row items-center p-4">
            <div class="absolute text-xs text-gray-500 right-0 top-0 mr-4 mt-3">5 min</div>
            <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-300 font-bold flex-shrink-0">
              T
            </div>
            <div class="flex flex-col flex-grow ml-3">
              <div class="text-sm font-medium">Cuberto</div>
              <div class="text-xs truncate w-40">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis, doloribus?</div>
            </div>
            <div class="flex-shrink-0 ml-2 self-end mb-1">
              <span class="flex items-center justify-center h-5 w-5 bg-red-500 text-white text-xs rounded-full">5</span>
            </div>
          </div>
          <div class="flex flex-row items-center p-4 bg-gradient-to-r from-red-100 to-transparent border-l-2 border-red-500">
            <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-300 font-bold flex-shrink-0">
              T
            </div>
            <div class="flex flex-col flex-grow ml-3">
              <div class="flex items-center">
                <div class="text-sm font-medium">UI Art Design</div>
                <div class="h-2 w-2 rounded-full bg-green-500 ml-2"></div>
              </div>
              <div class="text-xs truncate w-40">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis, doloribus?</div>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-5">
        <div class="text-xs text-gray-400 font-semibold uppercase">Personal</div>
      </div>
      <div class="h-full overflow-hidden relative pt-2">
        <div class="flex flex-col divide-y h-full overflow-y-auto -mx-4">
          <div class="flex flex-row items-center p-4 relative">
            <div class="absolute text-xs text-gray-500 right-0 top-0 mr-4 mt-3">2 hours ago</div>
            <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-300 font-bold flex-shrink-0">
              T
            </div>
            <div class="flex flex-col flex-grow ml-3">
              <div class="text-sm font-medium">Flo Steinle</div>
              <div class="text-xs truncate w-40">Good after noon! how can i help you?</div>
            </div>
            <div class="flex-shrink-0 ml-2 self-end mb-1">
              <span class="flex items-center justify-center h-5 w-5 bg-red-500 text-white text-xs rounded-full">3</span>
            </div>
          </div>
          <div class="flex flex-row items-center p-4">
            <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-300 font-bold flex-shrink-0">
              T
            </div>
            <div class="flex flex-col flex-grow ml-3">
              <div class="flex items-center">
                <div class="text-sm font-medium">Sarah D</div>
                <div class="h-2 w-2 rounded-full bg-green-500 ml-2"></div>
              </div>
              <div class="text-xs truncate w-40">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis, doloribus?</div>
            </div>
          </div>
          <div class="flex flex-row items-center p-4">
            <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-300 font-bold flex-shrink-0">
              T
            </div>
            <div class="flex flex-col flex-grow ml-3">
              <div class="flex items-center">
                <div class="text-sm font-medium">Sarah D</div>
                <div class="h-2 w-2 rounded-full bg-green-500 ml-2"></div>
              </div>
              <div class="text-xs truncate w-40">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis, doloribus?</div>
            </div>
          </div>
          <div class="flex flex-row items-center p-4">
            <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-300 font-bold flex-shrink-0">
              T
            </div>
            <div class="flex flex-col flex-grow ml-3">
              <div class="flex items-center">
                <div class="text-sm font-medium">Sarah D</div>
                <div class="h-2 w-2 rounded-full bg-green-500 ml-2"></div>
              </div>
              <div class="text-xs truncate w-40">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis, doloribus?</div>
            </div>
          </div>
          <div class="flex flex-row items-center p-4">
            <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-300 font-bold flex-shrink-0">
              T
            </div>
            <div class="flex flex-col flex-grow ml-3">
              <div class="flex items-center">
                <div class="text-sm font-medium">Sarah D</div>
                <div class="h-2 w-2 rounded-full bg-green-500 ml-2"></div>
              </div>
              <div class="text-xs truncate w-40">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis, doloribus?</div>
            </div>
          </div>
        </div>
        <div class="absolute bottom-0 right-0 mr-2">
          <button class="flex items-center justify-center shadow-sm h-10 w-10 bg-red-500 text-white rounded-full">
            <svg class="w-6 h-6"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="flex flex-col h-full w-full bg-white px-4 py-6">
    <div class="flex flex-row items-center py-4 px-6 rounded-2xl shadow">
      <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-100">
        T
      </div>
      <div class="flex flex-col ml-3">
        <div class="font-semibold text-sm">UI Art Design</div>
        <div class="text-xs text-gray-500">Active</div>
      </div>
      <div class="ml-auto">
        <ul class="flex flex-row items-center space-x-2">
          <li>
            <a href="#"
                class="flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-400 h-10 w-10 rounded-full">
              <span>
                <svg class="w-5 h-5"
                      fill="currentColor"
                      stroke="none"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
              </span>
            </a>
          </li>
          <li>
            <a href="#"
                class="flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-400 h-10 w-10 rounded-full">
              <span>
                <svg class="w-5 h-5"
                      fill="currentColor"
                      stroke="none"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                </svg>
              </span>
            </a>
          </li>
          <li>
            <a href="#"
                class="flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-400 h-10 w-10 rounded-full">
              <span>
                <svg class="w-5 h-5"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
                </svg>
              </span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    ===============<div class="h-full overflow-hidden py-4">
      <div class="h-full overflow-y-auto">
        <div class="grid grid-cols-12 gap-y-2">
          <div class="col-start-1 col-end-8 p-3 rounded-lg">
            <div class="flex flex-row items-center">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl"
              >
                <div>Hey How are you today?</div>
              </div>
            </div>
          </div>
          <div class="col-start-1 col-end-8 p-3 rounded-lg">
            <div class="flex flex-row items-center">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl"
              >
                <div>
                  Lorem ipsum dolor sit amet, consectetur adipisicing
                  elit. Vel ipsa commodi illum saepe numquam maxime
                  asperiores voluptate sit, minima perspiciatis.
                </div>
              </div>
            </div>
          </div>
          <div class="col-start-6 col-end-13 p-3 rounded-lg">
            <div class="flex items-center justify-start flex-row-reverse">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative mr-3 text-sm bg-indigo-100 py-2 px-4 shadow rounded-xl"
              >
                <div>I'm ok what about you?</div>
              </div>
            </div>
          </div>
          <div class="col-start-6 col-end-13 p-3 rounded-lg">
            <div class="flex items-center justify-start flex-row-reverse">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative mr-3 text-sm bg-indigo-100 py-2 px-4 shadow rounded-xl"
              >
                <div>
                  Lorem ipsum dolor sit, amet consectetur adipisicing. ?
                </div>
              </div>
            </div>
          </div>
          <div class="col-start-1 col-end-8 p-3 rounded-lg">
            <div class="flex flex-row items-center">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl"
              >
                <div>Lorem ipsum dolor sit amet !</div>
              </div>
            </div>
          </div>
          <div class="col-start-6 col-end-13 p-3 rounded-lg">
            <div class="flex items-center justify-start flex-row-reverse">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative mr-3 text-sm bg-indigo-100 py-2 px-4 shadow rounded-xl"
              >
                <div>
                  Lorem ipsum dolor sit, amet consectetur adipisicing. ?
                </div>
                <div
                    class="absolute text-xs bottom-0 right-0 -mb-5 mr-2 text-gray-500"
                >
                  Seen
                </div>
              </div>
            </div>
          </div>
          <div class="col-start-1 col-end-8 p-3 rounded-lg">
            <div class="flex flex-row items-center">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl"
              >
                <div>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Perspiciatis, in.
                </div>
              </div>
            </div>
          </div>
          <div class="col-start-1 col-end-8 p-3 rounded-lg">
            <div class="flex flex-row items-center">
              <div
                  class="flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0"
              >
                A
              </div>
              <div
                  class="relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl"
              >
                <div class="flex flex-row items-center">
                  <button
                      class="flex items-center justify-center bg-indigo-600 hover:bg-indigo-800 rounded-full h-8 w-10"
                  >
                    <svg
                        class="w-6 h-6 text-white"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="1.5"
                          d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"
                      ></path>
                      <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="1.5"
                          d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                      ></path>
                    </svg>
                  </button>
                  <div class="flex flex-row items-center space-x-px ml-4">
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-4 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-8 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-8 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-10 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-10 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-12 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-10 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-6 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-5 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-4 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-3 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-10 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-10 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-8 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-8 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-1 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-1 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-8 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-8 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-2 w-1 bg-gray-500 rounded-lg"></div>
                    <div class="h-4 w-1 bg-gray-500 rounded-lg"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="flex flex-row items-center">
      <div class="flex flex-row items-center w-full border rounded-3xl h-12 px-2">
        <button class="flex items-center justify-center h-10 w-10 text-gray-400 ml-1">
          <svg class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
          </svg>
        </button>
        <div class="w-full">
          <input type="text"
                  class="border border-transparent w-full focus:outline-none text-sm h-10 flex items-center" placeholder="Type your message....">
        </div>
        <div class="flex flex-row">
          <button class="flex items-center justify-center h-10 w-8 text-gray-400">
            <svg class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"></path>
            </svg>
          </button>
          <button class="flex items-center justify-center h-10 w-8 text-gray-400 ml-1 mr-2">
            <svg class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="ml-6">
        <button class="flex items-center justify-center h-10 w-10 rounded-full bg-gray-200 hover:bg-gray-300 text-indigo-800 text-white">
          <svg class="w-5 h-5 transform rotate-90 -mr-px"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>















<div class="bg-gray-800 w-full h-[4rem] rounded-tr-md rounded-tl-md p-5 text-white">
  {% if home_chat == None %}
      <p>{{room.name}} chat (Live-chat)</p>
  {% else %}
      <p>{{home_chat}} chat (Live-chat)</p>
  {% endif %}
</div>
<div  id='chat_container' class="w-full h-[calc(100vh-455px)] bg-indigo-100 p-2 rounded-br-md rounded-bl-md overflow-scroll">

  <ul id='chat_messages' class="flex flex-col justify-end gap-2 p-4">
    {% for message in chat_messages reversed %}
    {% if message.author == user %}
    <li class="flex justify-end mb-4">
        <div class="bg-green-200 rounded-l-lg rounded-tr-lg p-4 max-w-[75%] text-black">
            <span>{{ message.body }}</span>
        </div>
        <div class="flex items-end">
            <svg height="13" width="8" >
                <path fill="#bbf7d0" d="M6.3,10.4C1.5,8.7,0.9,5.5,0,0.2L0,13l5.2,0C7,13,9.6,11.5,6.3,10.4z"/>
            </svg>
        </div>
    </li>
    {% else %}
    <li>
        <div class="flex justify-start">
            <div class="flex items-end mr-2" >
                <a href="{% url 'user-profile' message.author.id %}">
                    <div class="relative">
                        <div id="user-{{ message.author.id }}"></div>
                        <img class="w-8 h-8 rounded-full object-cover" src="{{ message.author.avatar.url }}">
                    </div>
                </a>
            </div>
            <div class="flex items-end" >
                <svg height="13" width="8" >
                    <path fill="white" d="M2.8,13L8,13L8,0.2C7.1,5.5,6.5,8.7,1.7,10.4C-1.6,11.5,1,13,2.8,13z"></path>
                </svg>
            </div>
            <div class="bg-white p-4 max-w-[75%] rounded-r-lg rounded-tl-lg text-black">
                <span>{{ message.body }}</span>
            </div>  
        </div>
        <div class="text-sm font-light py-1 ml-10">
            <span class="text-white">{{ message.author.profile.name }}</span> 
            <span class="text-gray-400">@{{ message.author.username }}</span>
        </div>
    </li>
    {% endif %}
    {% endfor %}
</ul>

 </div>
  <div class="pt-5"></div>
  <form id="chat_message_form" class="w-full"
  hx-ext="ws"
  ws-connect="/ws/chatroom/{{ chatroom_name }}"
  ws-send 
  _="on htmx:wsAfterSend reset() me"
  method="POST">
  {% csrf_token %}
  <div class="w-full pl-3 pr-1 py-1 rounded-3xl border border-gray-400 flex items-center gap-2 justify-between">
    <div class="flex items-center gap-2 flex-1">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
        <g id="User Circle">
          <path id="icon" d="M6.05 17.6C6.05 15.3218 8.26619 13.475 11 13.475C13.7338 13.475 15.95 15.3218 15.95 17.6M13.475 8.525C13.475 9.89191 12.3669 11 11 11C9.6331 11 8.525 9.89191 8.525 8.525C8.525 7.1581 9.6331 6.05 11 6.05C12.3669 6.05 13.475 7.1581 13.475 8.525ZM19.25 11C19.25 15.5563 15.5563 19.25 11 19.25C6.44365 19.25 2.75 15.5563 2.75 11C2.75 6.44365 6.44365 2.75 11 2.75C15.5563 2.75 19.25 6.44365 19.25 11Z" stroke="teal" stroke-width="1.6" />
        </g>
      </svg>
      <input class="flex-1 text-black text-xs font-medium leading-4 focus:outline-none rounded-2xl px-2 py-2" type="text" name="body" maxlength="300" autofocus id="is_body" placeholder="Enter message here...">
    </div>
    <div class="flex items-center gap-2">
      <svg class="cursor-pointer" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
        <g id="Attach 01">
          <g id="Vector">
            <path d="M14.9332 7.79175L8.77551 14.323C8.23854 14.8925 7.36794 14.8926 6.83097 14.323C6.294 13.7535 6.294 12.83 6.83097 12.2605L12.9887 5.72925M12.3423 6.41676L13.6387 5.04176C14.7126 3.90267 16.4538 3.90267 17.5277 5.04176C18.6017 6.18085 18.6017 8.02767 17.5277 9.16676L16.2314 10.5418M16.8778 9.85425L10.72 16.3855C9.10912 18.0941 6.49732 18.0941 4.88641 16.3855C3.27549 14.6769 3.27549 11.9066 4.88641 10.198L11.0441 3.66675" stroke="#9CA3AF" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M14.9332 7.79175L8.77551 14.323C8.23854 14.8925 7.36794 14.8926 6.83097 14.323C6.294 13.7535 6.294 12.83 6.83097 12.2605L12.9887 5.72925M12.3423 6.41676L13.6387 5.04176C14.7126 3.90267 16.4538 3.90267 17.5277 5.04176C18.6017 6.18085 18.6017 8.02767 17.5277 9.16676L16.2314 10.5418M16.8778 9.85425L10.72 16.3855C9.10912 18.0941 6.49732 18.0941 4.88641 16.3855C3.27549 14.6769 3.27549 11.9066 4.88641 10.198L11.0441 3.66675" stroke="white" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M14.9332 7.79175L8.77551 14.323C8.23854 14.8925 7.36794 14.8926 6.83097 14.323C6.294 13.7535 6.294 12.83 6.83097 12.2605L12.9887 5.72925M12.3423 6.41676L13.6387 5.04176C14.7126 3.90267 16.4538 3.90267 17.5277 5.04176C18.6017 6.18085 18.6017 8.02767 17.5277 9.16676L16.2314 10.5418M16.8778 9.85425L10.72 16.3855C9.10912 18.0941 6.49732 18.0941 4.88641 16.3855C3.27549 14.6769 3.27549 11.9066 4.88641 10.198L11.0441 3.66675" stroke="white" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
          </g>
        </g>
      </svg>
      <button class="items-center flex px-3 py-2 bg-teal-400 rounded-full shadow">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <g id="Send 01">
            <path id="icon" d="M9.04071 6.959L6.54227 9.45744M6.89902 10.0724L7.03391 10.3054C8.31034 12.5102 8.94855 13.6125 9.80584 13.5252C10.6631 13.4379 11.0659 12.2295 11.8715 9.81261L13.0272 6.34566C13.7631 4.13794 14.1311 3.03408 13.5484 2.45139C12.9657 1.8687 11.8618 2.23666 9.65409 2.97257L6.18714 4.12822C3.77029 4.93383 2.56187 5.33664 2.47454 6.19392C2.38721 7.0512 3.48957 7.68941 5.69431 8.96584L5.92731 9.10074C6.23326 9.27786 6.38623 9.36643 6.50978 9.48998C6.63333 9.61352 6.72189 9.7665 6.89902 10.0724Z" stroke="black" stroke-width="1.6" stroke-linecap="round" />
          </g>
        </svg>
        <h3 class="text-black text-xs font-semibold leading-4 px-2">Send</h3>
      </button>
    </div>
  </div>      
</form>